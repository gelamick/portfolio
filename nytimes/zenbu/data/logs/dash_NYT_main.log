2024-11-18 16:33:49,674 - INFO - Connected to mongoDB server (mongodb://admin:serendipity@nyt_mongodb_svc:27017)
2024-11-18 16:33:49,680 - INFO - New pipeline : [{'$project': {'published_date': '$published_date'}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$published_date', 'format': '%Y-%m-%d'}}}}, {'$set': {'year': {'$year': '$real_date'}}}, {'$group': {'_id': 0, 'year_min': {'$min': '$year'}, 'year_max': {'$max': '$year'}}}]
2024-11-18 17:10:16,872 - INFO - Connected to mongoDB server (mongodb://admin:serendipity@nyt_mongodb_svc:27017)
2024-11-18 17:10:16,877 - INFO - New pipeline : [{'$project': {'published_date': '$published_date'}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$published_date', 'format': '%Y-%m-%d'}}}}, {'$set': {'year': {'$year': '$real_date'}}}, {'$group': {'_id': 0, 'year_min': {'$min': '$year'}, 'year_max': {'$max': '$year'}}}]
2024-11-18 17:10:32,288 - INFO - New pipeline : [{'$project': {'_id': 0, 'list_id': '$list_id', 'list_name': '$list_name', 'list_encoded': '$list_name_encoded', 'list_display': '$display_name'}}, {'$group': {'_id': {'list_id': '$list_id', 'list_name': '$list_name', 'list_encoded': '$list_encoded', 'list_display': '$list_display'}, 'count': {'$sum': 1}}}, {'$sort': {'count': -1, '_id.list_name': 1}}]
2024-11-18 17:10:32,538 - INFO - New pipeline : [{'$project': {'pub_date': '$pub_date'}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$pub_date', 'format': '%Y-%m-%dT%H:%M:%S%z'}}}}, {'$set': {'year': {'$year': '$real_date'}}}, {'$group': {'_id': 0, 'year_min': {'$min': '$year'}, 'year_max': {'$max': '$year'}}}]
2024-11-18 17:10:45,331 - INFO - Dash is running on http://0.0.0.0:8050/

2024-11-18 17:10:45,401 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8050
 * Running on http://172.18.0.5:8050
2024-11-18 17:10:45,405 - INFO - [33mPress CTRL+C to quit[0m
2024-11-18 17:13:23,655 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:23] "GET / HTTP/1.1" 200 -
2024-11-18 17:13:23,883 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:23] "GET /_dash-component-suites/dash/deps/polyfill@7.v2_18_2m1731947126.12.1.min.js HTTP/1.1" 200 -
2024-11-18 17:13:23,891 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:23] "GET /_dash-component-suites/dash/deps/react-dom@16.v2_18_2m1731947126.14.0.min.js HTTP/1.1" 200 -
2024-11-18 17:13:23,901 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:23] "GET /_dash-component-suites/dash/deps/react@16.v2_18_2m1731947126.14.0.min.js HTTP/1.1" 200 -
2024-11-18 17:13:23,904 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:23] "GET /_dash-component-suites/dash/deps/prop-types@15.v2_18_2m1731947126.8.1.min.js HTTP/1.1" 200 -
2024-11-18 17:13:23,934 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:23] "GET /_dash-component-suites/dash/dash-renderer/build/dash_renderer.v2_18_2m1731947125.min.js HTTP/1.1" 200 -
2024-11-18 17:13:23,977 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:23] "GET /_dash-component-suites/dash_bootstrap_components/_components/dash_bootstrap_components.v1_6_0m1731947127.min.js HTTP/1.1" 200 -
2024-11-18 17:13:24,014 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:24] "GET /_dash-component-suites/dash/dcc/dash_core_components.v2_14_3m1731947126.js HTTP/1.1" 200 -
2024-11-18 17:13:24,024 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:24] "GET /_dash-component-suites/dash/dcc/dash_core_components-shared.v2_14_3m1731947126.js HTTP/1.1" 200 -
2024-11-18 17:13:24,042 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:24] "GET /_dash-component-suites/dash/dash_table/bundle.v5_2_13m1731947126.js HTTP/1.1" 200 -
2024-11-18 17:13:24,054 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:24] "GET /_dash-component-suites/dash/html/dash_html_components.v2_0_20m1731947126.min.js HTTP/1.1" 200 -
2024-11-18 17:13:24,503 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:24] "GET /_dash-layout HTTP/1.1" 200 -
2024-11-18 17:13:24,508 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:24] "GET /_dash-dependencies HTTP/1.1" 200 -
2024-11-18 17:13:24,534 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:24] "GET /_favicon.ico?v=2.18.2 HTTP/1.1" 200 -
2024-11-18 17:13:24,628 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:24] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-18 17:13:31,589 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:31] "GET / HTTP/1.1" 200 -
2024-11-18 17:13:31,864 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:31] "GET /_dash-layout HTTP/1.1" 200 -
2024-11-18 17:13:31,873 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:31] "GET /_dash-dependencies HTTP/1.1" 200 -
2024-11-18 17:13:31,936 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:31] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-18 17:13:58,506 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:58] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-18 17:13:58,555 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:58] "GET /_dash-component-suites/dash/dcc/async-dropdown.js HTTP/1.1" 200 -
2024-11-18 17:13:58,563 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:58] "GET /_dash-component-suites/dash/dcc/async-graph.js HTTP/1.1" 200 -
2024-11-18 17:13:58,614 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:58] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-18 17:13:58,621 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:58] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-18 17:13:58,630 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:58] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-18 17:13:58,634 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:58] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-18 17:13:58,666 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:58] "GET /_dash-component-suites/plotly/package_data/plotly.min.js HTTP/1.1" 200 -
2024-11-18 17:13:59,037 - INFO - 172.18.0.1 - - [18/Nov/2024 17:13:59] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-18 17:14:09,108 - INFO - _obj_id = 'arch_query_radio'
2024-11-18 17:14:09,113 - INFO - New pipeline : [{'$match': {'pub_date': {'$gte': '2021-01-01T00:00:00', '$lte': '2024-01-31T00:00:00'}}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$pub_date', 'format': '%Y-%m-%dT%H:%M:%S%z'}}}}, {'$unwind': '$keywords'}, {'$project': {'_id': 0, 'name': '$keywords.name', 'value': '$keywords.value', 'rank': '$keywords.rank', 'year': {'$year': '$real_date'}, 'month': {'$month': '$real_date'}}}, {'$set': {'rank': {'$cond': {'if': {'$gt': ['$rank', 20]}, 'then': 20, 'else': '$rank'}}}}, {'$group': {'_id': {'name': '$name', 'value': '$value', 'rank': '$rank', 'year': '$year', 'month': '$month'}, 'count': {'$sum': 1}}}, {'$sort': {'count': -1}}]
2024-11-18 17:14:10,654 - INFO - 172.18.0.1 - - [18/Nov/2024 17:14:10] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-18 17:14:10,677 - INFO - _obj_id = 'arch_from_year'
2024-11-18 17:14:10,681 - INFO - New pipeline : [{'$match': {'pub_date': {'$gte': '2022-01-01T00:00:00', '$lte': '2024-01-31T00:00:00'}}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$pub_date', 'format': '%Y-%m-%dT%H:%M:%S%z'}}}}, {'$unwind': '$keywords'}, {'$project': {'_id': 0, 'name': '$keywords.name', 'value': '$keywords.value', 'rank': '$keywords.rank', 'year': {'$year': '$real_date'}, 'month': {'$month': '$real_date'}}}, {'$set': {'rank': {'$cond': {'if': {'$gt': ['$rank', 20]}, 'then': 20, 'else': '$rank'}}}}, {'$group': {'_id': {'name': '$name', 'value': '$value', 'rank': '$rank', 'year': '$year', 'month': '$month'}, 'count': {'$sum': 1}}}, {'$sort': {'count': -1}}]
2024-11-18 17:14:12,889 - INFO - 172.18.0.1 - - [18/Nov/2024 17:14:12] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-18 17:14:12,909 - INFO - _obj_id = 'arch_to_year'
2024-11-18 17:14:12,915 - INFO - New pipeline : [{'$match': {'pub_date': {'$gte': '2022-01-01T00:00:00', '$lte': '2023-01-31T00:00:00'}}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$pub_date', 'format': '%Y-%m-%dT%H:%M:%S%z'}}}}, {'$unwind': '$keywords'}, {'$project': {'_id': 0, 'name': '$keywords.name', 'value': '$keywords.value', 'rank': '$keywords.rank', 'year': {'$year': '$real_date'}, 'month': {'$month': '$real_date'}}}, {'$set': {'rank': {'$cond': {'if': {'$gt': ['$rank', 20]}, 'then': 20, 'else': '$rank'}}}}, {'$group': {'_id': {'name': '$name', 'value': '$value', 'rank': '$rank', 'year': '$year', 'month': '$month'}, 'count': {'$sum': 1}}}, {'$sort': {'count': -1}}]
2024-11-18 17:14:14,320 - INFO - 172.18.0.1 - - [18/Nov/2024 17:14:14] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-18 17:14:14,346 - INFO - _obj_id = 'arch_from_year'
2024-11-18 17:14:14,351 - INFO - New pipeline : [{'$match': {'pub_date': {'$gte': '2023-01-01T00:00:00', '$lte': '2023-01-31T00:00:00'}}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$pub_date', 'format': '%Y-%m-%dT%H:%M:%S%z'}}}}, {'$unwind': '$keywords'}, {'$project': {'_id': 0, 'name': '$keywords.name', 'value': '$keywords.value', 'rank': '$keywords.rank', 'year': {'$year': '$real_date'}, 'month': {'$month': '$real_date'}}}, {'$set': {'rank': {'$cond': {'if': {'$gt': ['$rank', 20]}, 'then': 20, 'else': '$rank'}}}}, {'$group': {'_id': {'name': '$name', 'value': '$value', 'rank': '$rank', 'year': '$year', 'month': '$month'}, 'count': {'$sum': 1}}}, {'$sort': {'count': -1}}]
2024-11-18 17:14:16,965 - INFO - 172.18.0.1 - - [18/Nov/2024 17:14:16] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-18 17:14:16,998 - INFO - _obj_id = 'arch_to_month'
2024-11-18 17:14:17,001 - INFO - New pipeline : [{'$match': {'pub_date': {'$gte': '2023-01-01T00:00:00', '$lte': '2023-05-31T00:00:00'}}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$pub_date', 'format': '%Y-%m-%dT%H:%M:%S%z'}}}}, {'$unwind': '$keywords'}, {'$project': {'_id': 0, 'name': '$keywords.name', 'value': '$keywords.value', 'rank': '$keywords.rank', 'year': {'$year': '$real_date'}, 'month': {'$month': '$real_date'}}}, {'$set': {'rank': {'$cond': {'if': {'$gt': ['$rank', 20]}, 'then': 20, 'else': '$rank'}}}}, {'$group': {'_id': {'name': '$name', 'value': '$value', 'rank': '$rank', 'year': '$year', 'month': '$month'}, 'count': {'$sum': 1}}}, {'$sort': {'count': -1}}]
2024-11-18 17:14:21,449 - INFO - _obj_id = 'arch_query_radio'
2024-11-18 17:14:21,497 - INFO - New pipeline : [{'$match': {'pub_date': {'$gte': '2023-01-01T00:00:00', '$lte': '2023-05-31T00:00:00'}}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$pub_date', 'format': '%Y-%m-%dT%H:%M:%S%z'}}}}, {'$unwind': '$keywords'}, {'$project': {'_id': 0, 'name': '$keywords.name', 'value': '$keywords.value', 'rank': '$keywords.rank', 'year': {'$year': '$real_date'}, 'month': {'$month': '$real_date'}}}, {'$set': {'rank': {'$cond': {'if': {'$gt': ['$rank', 20]}, 'then': 20, 'else': '$rank'}}}}, {'$group': {'_id': {'name': '$name', 'value': '$value', 'rank': '$rank', 'year': '$year', 'month': '$month'}, 'count': {'$sum': 1}}}, {'$sort': {'count': -1}}]
2024-11-18 17:15:21,421 - INFO - 172.18.0.1 - - [18/Nov/2024 17:15:21] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-18 17:15:21,423 - INFO - 172.18.0.1 - - [18/Nov/2024 17:15:21] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-18 17:15:21,426 - INFO - 172.18.0.1 - - [18/Nov/2024 17:15:21] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-18 17:15:21,429 - INFO - 172.18.0.1 - - [18/Nov/2024 17:15:21] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-18 17:15:21,433 - INFO - 172.18.0.1 - - [18/Nov/2024 17:15:21] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-18 17:15:21,436 - INFO - 172.18.0.1 - - [18/Nov/2024 17:15:21] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-18 17:16:00,108 - INFO - 172.18.0.1 - - [18/Nov/2024 17:16:00] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-18 17:16:00,226 - INFO - 172.18.0.1 - - [18/Nov/2024 17:16:00] "GET /_dash-component-suites/dash/dash_table/async-highlight.js HTTP/1.1" 200 -
2024-11-18 17:16:00,227 - INFO - 172.18.0.1 - - [18/Nov/2024 17:16:00] "GET /_dash-component-suites/dash/dash_table/async-table.js HTTP/1.1" 200 -
2024-11-18 17:16:00,335 - INFO - 172.18.0.1 - - [18/Nov/2024 17:16:00] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-18 17:16:00,338 - INFO - 172.18.0.1 - - [18/Nov/2024 17:16:00] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-18 17:16:00,352 - INFO - 172.18.0.1 - - [18/Nov/2024 17:16:00] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-18 17:16:00,357 - INFO - 172.18.0.1 - - [18/Nov/2024 17:16:00] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-18 17:16:00,365 - INFO - 172.18.0.1 - - [18/Nov/2024 17:16:00] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-18 17:16:00,518 - INFO - 172.18.0.1 - - [18/Nov/2024 17:16:00] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-18 17:16:05,038 - INFO - _obj_id = 'books_query_radio'
2024-11-18 17:16:05,042 - INFO - New pipeline : [{'$match': {'published_date': {'$gte': '2014-01-01', '$lt': '2024-01-31'}}}, {'$set': {'publish_real_date': {'$dateFromString': {'dateString': '$published_date', 'format': '%Y-%m-%d'}}}}, {'$set': {'publish_year': {'$year': '$publish_real_date'}, 'publish_month': {'$month': '$publish_real_date'}, 'publish_day': {'$dayOfMonth': '$publish_real_date'}, 'publish_week': {'$week': '$publish_real_date'}}}, {'$unwind': {'path': '$books', 'preserveNullAndEmptyArrays': False}}, {'$project': {'_id': 0, 'list_id': '$list_id', 'list_name': '$list_name', 'list_encoded': '$list_name_encoded', 'list_display': '$display_name', 'title': '$books.title', 'author': '$books.author', 'publisher': '$books.publisher', 'publish_year': '$publish_year', 'publish_month': '$publish_month', 'publish_day': '$publish_day', 'publish_week': '$publish_week', 'isbn10': '$books.primary_isbn10', 'isbn13': '$books.primary_isbn13', 'amzn_lnk': '$books.amazon_product_url', 'description': '$books.description', 'rank': '$books.rank', 'rank_last_week': '$books.rank_last_week', 'rank_nb_weeks': '$books.weeks_on_list', 'image': '$books.book_image', 'image_w': '$books.book_image_width', 'image_h': '$books.book_image_height'}}, {'$group': {'_id': {'author': '$author', 'title': '$title', 'publisher': '$publisher', 'isbn10': '$isbn10', 'isbn13': '$isbn13', 'rank': '$rank'}, 'count': {'$sum': 1}, 'publish_year': {'$first': '$publish_year'}, 'publish_month': {'$first': '$publish_month'}, 'publish_day': {'$first': '$publish_day'}, 'publish_week': {'$first': '$publish_week'}, 'description': {'$first': '$description'}, 'image': {'$last': '$image'}, 'image_w': {'$last': '$image_w'}, 'image_h': {'$last': '$image_h'}, 'amzn_lnk': {'$last': '$amzn_lnk'}, 'lists': {'$addToSet': '$list_id'}, 'list_names': {'$addToSet': '$list_name'}}}]
2024-11-18 17:16:05,050 - INFO - 172.18.0.1 - - [18/Nov/2024 17:16:05] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-18 17:16:11,158 - INFO - 172.18.0.1 - - [18/Nov/2024 17:16:11] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-18 17:16:11,231 - INFO - _obj_id = 'books_from_year'
2024-11-18 17:16:11,265 - INFO - New pipeline : [{'$match': {'published_date': {'$gte': '2016-01-01', '$lt': '2024-01-31'}}}, {'$set': {'publish_real_date': {'$dateFromString': {'dateString': '$published_date', 'format': '%Y-%m-%d'}}}}, {'$set': {'publish_year': {'$year': '$publish_real_date'}, 'publish_month': {'$month': '$publish_real_date'}, 'publish_day': {'$dayOfMonth': '$publish_real_date'}, 'publish_week': {'$week': '$publish_real_date'}}}, {'$unwind': {'path': '$books', 'preserveNullAndEmptyArrays': False}}, {'$project': {'_id': 0, 'list_id': '$list_id', 'list_name': '$list_name', 'list_encoded': '$list_name_encoded', 'list_display': '$display_name', 'title': '$books.title', 'author': '$books.author', 'publisher': '$books.publisher', 'publish_year': '$publish_year', 'publish_month': '$publish_month', 'publish_day': '$publish_day', 'publish_week': '$publish_week', 'isbn10': '$books.primary_isbn10', 'isbn13': '$books.primary_isbn13', 'amzn_lnk': '$books.amazon_product_url', 'description': '$books.description', 'rank': '$books.rank', 'rank_last_week': '$books.rank_last_week', 'rank_nb_weeks': '$books.weeks_on_list', 'image': '$books.book_image', 'image_w': '$books.book_image_width', 'image_h': '$books.book_image_height'}}, {'$group': {'_id': {'author': '$author', 'title': '$title', 'publisher': '$publisher', 'isbn10': '$isbn10', 'isbn13': '$isbn13', 'rank': '$rank'}, 'count': {'$sum': 1}, 'publish_year': {'$first': '$publish_year'}, 'publish_month': {'$first': '$publish_month'}, 'publish_day': {'$first': '$publish_day'}, 'publish_week': {'$first': '$publish_week'}, 'description': {'$first': '$description'}, 'image': {'$last': '$image'}, 'image_w': {'$last': '$image_w'}, 'image_h': {'$last': '$image_h'}, 'amzn_lnk': {'$last': '$amzn_lnk'}, 'lists': {'$addToSet': '$list_id'}, 'list_names': {'$addToSet': '$list_name'}}}]
2024-11-18 17:16:13,620 - INFO - 172.18.0.1 - - [18/Nov/2024 17:16:13] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-18 17:16:13,741 - INFO - _obj_id = 'books_from_year'
2024-11-18 17:16:13,784 - INFO - New pipeline : [{'$match': {'published_date': {'$gte': '2021-01-01', '$lt': '2024-01-31'}}}, {'$set': {'publish_real_date': {'$dateFromString': {'dateString': '$published_date', 'format': '%Y-%m-%d'}}}}, {'$set': {'publish_year': {'$year': '$publish_real_date'}, 'publish_month': {'$month': '$publish_real_date'}, 'publish_day': {'$dayOfMonth': '$publish_real_date'}, 'publish_week': {'$week': '$publish_real_date'}}}, {'$unwind': {'path': '$books', 'preserveNullAndEmptyArrays': False}}, {'$project': {'_id': 0, 'list_id': '$list_id', 'list_name': '$list_name', 'list_encoded': '$list_name_encoded', 'list_display': '$display_name', 'title': '$books.title', 'author': '$books.author', 'publisher': '$books.publisher', 'publish_year': '$publish_year', 'publish_month': '$publish_month', 'publish_day': '$publish_day', 'publish_week': '$publish_week', 'isbn10': '$books.primary_isbn10', 'isbn13': '$books.primary_isbn13', 'amzn_lnk': '$books.amazon_product_url', 'description': '$books.description', 'rank': '$books.rank', 'rank_last_week': '$books.rank_last_week', 'rank_nb_weeks': '$books.weeks_on_list', 'image': '$books.book_image', 'image_w': '$books.book_image_width', 'image_h': '$books.book_image_height'}}, {'$group': {'_id': {'author': '$author', 'title': '$title', 'publisher': '$publisher', 'isbn10': '$isbn10', 'isbn13': '$isbn13', 'rank': '$rank'}, 'count': {'$sum': 1}, 'publish_year': {'$first': '$publish_year'}, 'publish_month': {'$first': '$publish_month'}, 'publish_day': {'$first': '$publish_day'}, 'publish_week': {'$first': '$publish_week'}, 'description': {'$first': '$description'}, 'image': {'$last': '$image'}, 'image_w': {'$last': '$image_w'}, 'image_h': {'$last': '$image_h'}, 'amzn_lnk': {'$last': '$amzn_lnk'}, 'lists': {'$addToSet': '$list_id'}, 'list_names': {'$addToSet': '$list_name'}}}]
2024-11-18 17:16:16,400 - INFO - 172.18.0.1 - - [18/Nov/2024 17:16:16] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-18 17:16:16,486 - INFO - _obj_id = 'books_to_month'
2024-11-18 17:16:16,549 - INFO - New pipeline : [{'$match': {'published_date': {'$gte': '2021-01-01', '$lt': '2024-05-31'}}}, {'$set': {'publish_real_date': {'$dateFromString': {'dateString': '$published_date', 'format': '%Y-%m-%d'}}}}, {'$set': {'publish_year': {'$year': '$publish_real_date'}, 'publish_month': {'$month': '$publish_real_date'}, 'publish_day': {'$dayOfMonth': '$publish_real_date'}, 'publish_week': {'$week': '$publish_real_date'}}}, {'$unwind': {'path': '$books', 'preserveNullAndEmptyArrays': False}}, {'$project': {'_id': 0, 'list_id': '$list_id', 'list_name': '$list_name', 'list_encoded': '$list_name_encoded', 'list_display': '$display_name', 'title': '$books.title', 'author': '$books.author', 'publisher': '$books.publisher', 'publish_year': '$publish_year', 'publish_month': '$publish_month', 'publish_day': '$publish_day', 'publish_week': '$publish_week', 'isbn10': '$books.primary_isbn10', 'isbn13': '$books.primary_isbn13', 'amzn_lnk': '$books.amazon_product_url', 'description': '$books.description', 'rank': '$books.rank', 'rank_last_week': '$books.rank_last_week', 'rank_nb_weeks': '$books.weeks_on_list', 'image': '$books.book_image', 'image_w': '$books.book_image_width', 'image_h': '$books.book_image_height'}}, {'$group': {'_id': {'author': '$author', 'title': '$title', 'publisher': '$publisher', 'isbn10': '$isbn10', 'isbn13': '$isbn13', 'rank': '$rank'}, 'count': {'$sum': 1}, 'publish_year': {'$first': '$publish_year'}, 'publish_month': {'$first': '$publish_month'}, 'publish_day': {'$first': '$publish_day'}, 'publish_week': {'$first': '$publish_week'}, 'description': {'$first': '$description'}, 'image': {'$last': '$image'}, 'image_w': {'$last': '$image_w'}, 'image_h': {'$last': '$image_h'}, 'amzn_lnk': {'$last': '$amzn_lnk'}, 'lists': {'$addToSet': '$list_id'}, 'list_names': {'$addToSet': '$list_name'}}}]
2024-11-18 17:16:32,137 - INFO - _obj_id = 'books_lists_list'
2024-11-18 17:16:32,165 - INFO - New pipeline : [{'$match': {'published_date': {'$gte': '2021-01-01', '$lt': '2024-05-31'}}}, {'$set': {'publish_real_date': {'$dateFromString': {'dateString': '$published_date', 'format': '%Y-%m-%d'}}}}, {'$set': {'publish_year': {'$year': '$publish_real_date'}, 'publish_month': {'$month': '$publish_real_date'}, 'publish_day': {'$dayOfMonth': '$publish_real_date'}, 'publish_week': {'$week': '$publish_real_date'}}}, {'$unwind': {'path': '$books', 'preserveNullAndEmptyArrays': False}}, {'$project': {'_id': 0, 'list_id': '$list_id', 'list_name': '$list_name', 'list_encoded': '$list_name_encoded', 'list_display': '$display_name', 'title': '$books.title', 'author': '$books.author', 'publisher': '$books.publisher', 'publish_year': '$publish_year', 'publish_month': '$publish_month', 'publish_day': '$publish_day', 'publish_week': '$publish_week', 'isbn10': '$books.primary_isbn10', 'isbn13': '$books.primary_isbn13', 'amzn_lnk': '$books.amazon_product_url', 'description': '$books.description', 'rank': '$books.rank', 'rank_last_week': '$books.rank_last_week', 'rank_nb_weeks': '$books.weeks_on_list', 'image': '$books.book_image', 'image_w': '$books.book_image_width', 'image_h': '$books.book_image_height'}}, {'$group': {'_id': {'author': '$author', 'title': '$title', 'publisher': '$publisher', 'isbn10': '$isbn10', 'isbn13': '$isbn13', 'rank': '$rank'}, 'count': {'$sum': 1}, 'publish_year': {'$first': '$publish_year'}, 'publish_month': {'$first': '$publish_month'}, 'publish_day': {'$first': '$publish_day'}, 'publish_week': {'$first': '$publish_week'}, 'description': {'$first': '$description'}, 'image': {'$last': '$image'}, 'image_w': {'$last': '$image_w'}, 'image_h': {'$last': '$image_h'}, 'amzn_lnk': {'$last': '$amzn_lnk'}, 'lists': {'$addToSet': '$list_id'}, 'list_names': {'$addToSet': '$list_name'}}}]
2024-11-18 17:16:33,935 - INFO - _obj_id = 'books_lists_list'
2024-11-18 17:16:34,030 - INFO - New pipeline : [{'$match': {'$and': [{'published_date': {'$gte': '2021-01-01', '$lt': '2024-05-31'}}, {'list_id': {'$in': [708]}}]}}, {'$set': {'publish_real_date': {'$dateFromString': {'dateString': '$published_date', 'format': '%Y-%m-%d'}}}}, {'$set': {'publish_year': {'$year': '$publish_real_date'}, 'publish_month': {'$month': '$publish_real_date'}, 'publish_day': {'$dayOfMonth': '$publish_real_date'}, 'publish_week': {'$week': '$publish_real_date'}}}, {'$unwind': {'path': '$books', 'preserveNullAndEmptyArrays': False}}, {'$project': {'_id': 0, 'list_id': '$list_id', 'list_name': '$list_name', 'list_encoded': '$list_name_encoded', 'list_display': '$display_name', 'title': '$books.title', 'author': '$books.author', 'publisher': '$books.publisher', 'publish_year': '$publish_year', 'publish_month': '$publish_month', 'publish_day': '$publish_day', 'publish_week': '$publish_week', 'isbn10': '$books.primary_isbn10', 'isbn13': '$books.primary_isbn13', 'amzn_lnk': '$books.amazon_product_url', 'description': '$books.description', 'rank': '$books.rank', 'rank_last_week': '$books.rank_last_week', 'rank_nb_weeks': '$books.weeks_on_list', 'image': '$books.book_image', 'image_w': '$books.book_image_width', 'image_h': '$books.book_image_height'}}, {'$group': {'_id': {'author': '$author', 'title': '$title', 'publisher': '$publisher', 'isbn10': '$isbn10', 'isbn13': '$isbn13', 'rank': '$rank'}, 'count': {'$sum': 1}, 'publish_year': {'$first': '$publish_year'}, 'publish_month': {'$first': '$publish_month'}, 'publish_day': {'$first': '$publish_day'}, 'publish_week': {'$first': '$publish_week'}, 'description': {'$first': '$description'}, 'image': {'$last': '$image'}, 'image_w': {'$last': '$image_w'}, 'image_h': {'$last': '$image_h'}, 'amzn_lnk': {'$last': '$amzn_lnk'}, 'lists': {'$addToSet': '$list_id'}, 'list_names': {'$addToSet': '$list_name'}}}]
2024-11-18 17:16:44,696 - INFO - 172.18.0.1 - - [18/Nov/2024 17:16:44] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-18 17:16:44,812 - INFO - 172.18.0.1 - - [18/Nov/2024 17:16:44] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-18 17:16:44,891 - INFO - 172.18.0.1 - - [18/Nov/2024 17:16:44] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-18 17:16:44,920 - INFO - 172.18.0.1 - - [18/Nov/2024 17:16:44] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-18 17:16:46,976 - INFO - 172.18.0.1 - - [18/Nov/2024 17:16:46] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-18 17:16:47,273 - INFO - 172.18.0.1 - - [18/Nov/2024 17:16:47] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 09:20:00,900 - INFO - Connected to mongoDB server (mongodb://admin:serendipity@nyt_mongodb_svc:27017)
2024-11-19 09:20:00,928 - INFO - New pipeline : [{'$project': {'published_date': '$published_date'}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$published_date', 'format': '%Y-%m-%d'}}}}, {'$set': {'year': {'$year': '$real_date'}}}, {'$group': {'_id': 0, 'year_min': {'$min': '$year'}, 'year_max': {'$max': '$year'}}}]
2024-11-19 09:20:05,914 - INFO - New pipeline : [{'$project': {'_id': 0, 'list_id': '$list_id', 'list_name': '$list_name', 'list_encoded': '$list_name_encoded', 'list_display': '$display_name'}}, {'$group': {'_id': {'list_id': '$list_id', 'list_name': '$list_name', 'list_encoded': '$list_encoded', 'list_display': '$list_display'}, 'count': {'$sum': 1}}}, {'$sort': {'count': -1, '_id.list_name': 1}}]
2024-11-19 09:20:06,080 - INFO - New pipeline : [{'$project': {'pub_date': '$pub_date'}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$pub_date', 'format': '%Y-%m-%dT%H:%M:%S%z'}}}}, {'$set': {'year': {'$year': '$real_date'}}}, {'$group': {'_id': 0, 'year_min': {'$min': '$year'}, 'year_max': {'$max': '$year'}}}]
2024-11-19 09:20:17,707 - INFO - Dash is running on http://0.0.0.0:8050/

2024-11-19 09:20:17,822 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8050
 * Running on http://172.18.0.4:8050
2024-11-19 09:20:17,822 - INFO - [33mPress CTRL+C to quit[0m
2024-11-19 09:31:59,174 - INFO - 172.18.0.1 - - [19/Nov/2024 09:31:59] "GET / HTTP/1.1" 200 -
2024-11-19 09:31:59,252 - INFO - 172.18.0.1 - - [19/Nov/2024 09:31:59] "GET /_dash-component-suites/dash/deps/polyfill@7.v2_18_2m1731947126.12.1.min.js HTTP/1.1" 200 -
2024-11-19 09:31:59,257 - INFO - 172.18.0.1 - - [19/Nov/2024 09:31:59] "GET /_dash-component-suites/dash/deps/react@16.v2_18_2m1731947126.14.0.min.js HTTP/1.1" 200 -
2024-11-19 09:31:59,262 - INFO - 172.18.0.1 - - [19/Nov/2024 09:31:59] "GET /_dash-component-suites/dash/deps/prop-types@15.v2_18_2m1731947126.8.1.min.js HTTP/1.1" 200 -
2024-11-19 09:31:59,271 - INFO - 172.18.0.1 - - [19/Nov/2024 09:31:59] "GET /_dash-component-suites/dash/deps/react-dom@16.v2_18_2m1731947126.14.0.min.js HTTP/1.1" 200 -
2024-11-19 09:31:59,279 - INFO - 172.18.0.1 - - [19/Nov/2024 09:31:59] "GET /_dash-component-suites/dash_bootstrap_components/_components/dash_bootstrap_components.v1_6_0m1731947127.min.js HTTP/1.1" 200 -
2024-11-19 09:31:59,300 - INFO - 172.18.0.1 - - [19/Nov/2024 09:31:59] "GET /_dash-component-suites/dash/dash-renderer/build/dash_renderer.v2_18_2m1731947125.min.js HTTP/1.1" 200 -
2024-11-19 09:31:59,322 - INFO - 172.18.0.1 - - [19/Nov/2024 09:31:59] "GET /_dash-component-suites/dash/dcc/dash_core_components-shared.v2_14_3m1731947126.js HTTP/1.1" 200 -
2024-11-19 09:31:59,332 - INFO - 172.18.0.1 - - [19/Nov/2024 09:31:59] "GET /_dash-component-suites/dash/dcc/dash_core_components.v2_14_3m1731947126.js HTTP/1.1" 200 -
2024-11-19 09:31:59,350 - INFO - 172.18.0.1 - - [19/Nov/2024 09:31:59] "GET /_dash-component-suites/dash/html/dash_html_components.v2_0_20m1731947126.min.js HTTP/1.1" 200 -
2024-11-19 09:31:59,373 - INFO - 172.18.0.1 - - [19/Nov/2024 09:31:59] "GET /_dash-component-suites/dash/dash_table/bundle.v5_2_13m1731947126.js HTTP/1.1" 200 -
2024-11-19 09:31:59,570 - INFO - 172.18.0.1 - - [19/Nov/2024 09:31:59] "GET /_dash-layout HTTP/1.1" 200 -
2024-11-19 09:31:59,576 - INFO - 172.18.0.1 - - [19/Nov/2024 09:31:59] "GET /_dash-dependencies HTTP/1.1" 200 -
2024-11-19 09:31:59,608 - INFO - 172.18.0.1 - - [19/Nov/2024 09:31:59] "GET /_favicon.ico?v=2.18.2 HTTP/1.1" 200 -
2024-11-19 09:31:59,636 - INFO - 172.18.0.1 - - [19/Nov/2024 09:31:59] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 09:32:07,369 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:07] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 09:32:07,405 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:07] "GET /_dash-component-suites/dash/dcc/async-dropdown.js HTTP/1.1" 200 -
2024-11-19 09:32:07,423 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:07] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 09:32:07,423 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:07] "GET /_dash-component-suites/dash/dcc/async-graph.js HTTP/1.1" 200 -
2024-11-19 09:32:07,428 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:07] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 09:32:07,433 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:07] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 09:32:07,437 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:07] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 09:32:07,512 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:07] "GET /_dash-component-suites/plotly/package_data/plotly.min.js HTTP/1.1" 200 -
2024-11-19 09:32:07,760 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:07] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 09:32:11,015 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:11] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 09:32:11,059 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:11] "GET /_dash-component-suites/dash/dash_table/async-highlight.js HTTP/1.1" 200 -
2024-11-19 09:32:11,072 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:11] "GET /_dash-component-suites/dash/dash_table/async-table.js HTTP/1.1" 200 -
2024-11-19 09:32:11,136 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:11] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 09:32:11,138 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:11] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 09:32:11,141 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:11] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 09:32:11,144 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:11] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 09:32:11,148 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:11] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 09:32:11,234 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:11] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 09:32:14,260 - INFO - _obj_id = 'books_lists_list'
2024-11-19 09:32:14,263 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:14] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 09:32:15,234 - INFO - _obj_id = 'books_lists_list'
2024-11-19 09:32:15,237 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:15] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 09:32:18,201 - INFO - _obj_id = 'books_query_radio'
2024-11-19 09:32:18,203 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:18] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 09:32:18,205 - INFO - New pipeline : [{'$match': {'$and': [{'published_date': {'$gte': '2014-01-01', '$lt': '2024-01-31'}}, {'list_id': {'$in': [24]}}]}}, {'$set': {'publish_real_date': {'$dateFromString': {'dateString': '$published_date', 'format': '%Y-%m-%d'}}}}, {'$set': {'publish_year': {'$year': '$publish_real_date'}, 'publish_month': {'$month': '$publish_real_date'}, 'publish_day': {'$dayOfMonth': '$publish_real_date'}, 'publish_week': {'$week': '$publish_real_date'}}}, {'$unwind': {'path': '$books', 'preserveNullAndEmptyArrays': False}}, {'$project': {'_id': 0, 'list_id': '$list_id', 'list_name': '$list_name', 'list_encoded': '$list_name_encoded', 'list_display': '$display_name', 'title': '$books.title', 'author': '$books.author', 'publisher': '$books.publisher', 'publish_year': '$publish_year', 'publish_month': '$publish_month', 'publish_day': '$publish_day', 'publish_week': '$publish_week', 'isbn10': '$books.primary_isbn10', 'isbn13': '$books.primary_isbn13', 'amzn_lnk': '$books.amazon_product_url', 'description': '$books.description', 'rank': '$books.rank', 'rank_last_week': '$books.rank_last_week', 'rank_nb_weeks': '$books.weeks_on_list', 'image': '$books.book_image', 'image_w': '$books.book_image_width', 'image_h': '$books.book_image_height'}}, {'$group': {'_id': {'author': '$author', 'title': '$title', 'publisher': '$publisher', 'isbn10': '$isbn10', 'isbn13': '$isbn13', 'rank': '$rank'}, 'count': {'$sum': 1}, 'publish_year': {'$first': '$publish_year'}, 'publish_month': {'$first': '$publish_month'}, 'publish_day': {'$first': '$publish_day'}, 'publish_week': {'$first': '$publish_week'}, 'description': {'$first': '$description'}, 'image': {'$last': '$image'}, 'image_w': {'$last': '$image_w'}, 'image_h': {'$last': '$image_h'}, 'amzn_lnk': {'$last': '$amzn_lnk'}, 'lists': {'$addToSet': '$list_id'}, 'list_names': {'$addToSet': '$list_name'}}}]
2024-11-19 09:32:24,935 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:24] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 09:32:27,753 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:27] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 09:32:27,832 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:27] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 09:32:27,836 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:27] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 09:32:27,840 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:27] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 09:32:27,844 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:27] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 09:32:27,918 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:27] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 09:32:30,562 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:30] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 09:32:30,575 - INFO - _obj_id = 'arch_from_year'
2024-11-19 09:32:30,578 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:30] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 09:32:33,394 - INFO - _obj_id = 'arch_query_radio'
2024-11-19 09:32:33,397 - INFO - New pipeline : [{'$match': {'pub_date': {'$gte': '2022-01-01T00:00:00', '$lte': '2024-01-31T00:00:00'}}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$pub_date', 'format': '%Y-%m-%dT%H:%M:%S%z'}}}}, {'$unwind': '$keywords'}, {'$project': {'_id': 0, 'name': '$keywords.name', 'value': '$keywords.value', 'rank': '$keywords.rank', 'year': {'$year': '$real_date'}, 'month': {'$month': '$real_date'}}}, {'$set': {'rank': {'$cond': {'if': {'$gt': ['$rank', 20]}, 'then': 20, 'else': '$rank'}}}}, {'$group': {'_id': {'name': '$name', 'value': '$value', 'rank': '$rank', 'year': '$year', 'month': '$month'}, 'count': {'$sum': 1}}}, {'$sort': {'count': -1}}]
2024-11-19 09:32:46,950 - INFO - 172.18.0.1 - - [19/Nov/2024 09:32:46] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 13:08:16,024 - INFO - Connected to mongoDB server (mongodb://admin:serendipity@nyt_mongodb_svc:27017)
2024-11-19 13:08:16,048 - INFO - New pipeline : [{'$project': {'published_date': '$published_date'}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$published_date', 'format': '%Y-%m-%d'}}}}, {'$set': {'year': {'$year': '$real_date'}}}, {'$group': {'_id': 0, 'year_min': {'$min': '$year'}, 'year_max': {'$max': '$year'}}}]
2024-11-19 13:08:21,955 - INFO - New pipeline : [{'$project': {'_id': 0, 'list_id': '$list_id', 'list_name': '$list_name', 'list_encoded': '$list_name_encoded', 'list_display': '$display_name'}}, {'$group': {'_id': {'list_id': '$list_id', 'list_name': '$list_name', 'list_encoded': '$list_encoded', 'list_display': '$list_display'}, 'count': {'$sum': 1}}}, {'$sort': {'count': -1, '_id.list_name': 1}}]
2024-11-19 13:08:22,167 - INFO - New pipeline : [{'$project': {'pub_date': '$pub_date'}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$pub_date', 'format': '%Y-%m-%dT%H:%M:%S%z'}}}}, {'$set': {'year': {'$year': '$real_date'}}}, {'$group': {'_id': 0, 'year_min': {'$min': '$year'}, 'year_max': {'$max': '$year'}}}]
2024-11-19 13:08:34,577 - INFO - Dash is running on http://0.0.0.0:8050/

2024-11-19 13:08:34,671 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8050
 * Running on http://172.18.0.5:8050
2024-11-19 13:08:34,672 - INFO - [33mPress CTRL+C to quit[0m
2024-11-19 13:24:00,210 - INFO - Connected to mongoDB server (mongodb://admin:serendipity@nyt_mongodb_svc:27017)
2024-11-19 13:24:00,282 - INFO - New pipeline : [{'$project': {'published_date': '$published_date'}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$published_date', 'format': '%Y-%m-%d'}}}}, {'$set': {'year': {'$year': '$real_date'}}}, {'$group': {'_id': 0, 'year_min': {'$min': '$year'}, 'year_max': {'$max': '$year'}}}]
2024-11-19 13:27:15,701 - INFO - Connected to mongoDB server (mongodb://admin:serendipity@nyt_mongodb_svc:27017)
2024-11-19 13:27:15,742 - INFO - New pipeline : [{'$project': {'published_date': '$published_date'}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$published_date', 'format': '%Y-%m-%d'}}}}, {'$set': {'year': {'$year': '$real_date'}}}, {'$group': {'_id': 0, 'year_min': {'$min': '$year'}, 'year_max': {'$max': '$year'}}}]
2024-11-19 13:30:50,301 - INFO - Connected to mongoDB server (mongodb://admin:serendipity@nyt_mongodb_svc:27017)
2024-11-19 13:30:50,344 - INFO - New pipeline : [{'$project': {'published_date': '$published_date'}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$published_date', 'format': '%Y-%m-%d'}}}}, {'$set': {'year': {'$year': '$real_date'}}}, {'$group': {'_id': 0, 'year_min': {'$min': '$year'}, 'year_max': {'$max': '$year'}}}]
2024-11-19 13:39:44,449 - INFO - Connected to mongoDB server (mongodb://admin:serendipity@nyt_mongodb_svc:27017)
2024-11-19 13:39:44,468 - INFO - New pipeline : [{'$project': {'published_date': '$published_date'}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$published_date', 'format': '%Y-%m-%d'}}}}, {'$set': {'year': {'$year': '$real_date'}}}, {'$group': {'_id': 0, 'year_min': {'$min': '$year'}, 'year_max': {'$max': '$year'}}}]
2024-11-19 13:39:59,161 - INFO - New pipeline : [{'$project': {'_id': 0, 'list_id': '$list_id', 'list_name': '$list_name', 'list_encoded': '$list_name_encoded', 'list_display': '$display_name'}}, {'$group': {'_id': {'list_id': '$list_id', 'list_name': '$list_name', 'list_encoded': '$list_encoded', 'list_display': '$list_display'}, 'count': {'$sum': 1}}}, {'$sort': {'count': -1, '_id.list_name': 1}}]
2024-11-19 13:39:59,488 - INFO - New pipeline : [{'$project': {'pub_date': '$pub_date'}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$pub_date', 'format': '%Y-%m-%dT%H:%M:%S%z'}}}}, {'$set': {'year': {'$year': '$real_date'}}}, {'$group': {'_id': 0, 'year_min': {'$min': '$year'}, 'year_max': {'$max': '$year'}}}]
2024-11-19 13:40:12,323 - INFO - Dash is running on http://0.0.0.0:8050/

2024-11-19 13:40:12,351 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8050
 * Running on http://172.18.0.4:8050
2024-11-19 13:40:12,351 - INFO - [33mPress CTRL+C to quit[0m
2024-11-19 13:42:14,076 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:14] "GET / HTTP/1.1" 200 -
2024-11-19 13:42:14,193 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:14] "GET /_dash-component-suites/dash/deps/polyfill@7.v2_18_2m1732022351.12.1.min.js HTTP/1.1" 200 -
2024-11-19 13:42:14,197 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:14] "GET /_dash-component-suites/dash/deps/react@16.v2_18_2m1732022351.14.0.min.js HTTP/1.1" 200 -
2024-11-19 13:42:14,200 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:14] "GET /_dash-component-suites/dash/deps/react-dom@16.v2_18_2m1732022351.14.0.min.js HTTP/1.1" 200 -
2024-11-19 13:42:14,201 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:14] "GET /_dash-component-suites/dash/deps/prop-types@15.v2_18_2m1732022351.8.1.min.js HTTP/1.1" 200 -
2024-11-19 13:42:14,207 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:14] "GET /_dash-component-suites/dash/dash-renderer/build/dash_renderer.v2_18_2m1732022351.min.js HTTP/1.1" 200 -
2024-11-19 13:42:14,210 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:14] "GET /_dash-component-suites/dash_bootstrap_components/_components/dash_bootstrap_components.v1_6_0m1732022352.min.js HTTP/1.1" 200 -
2024-11-19 13:42:14,271 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:14] "GET /_dash-component-suites/dash/dcc/dash_core_components-shared.v2_14_3m1732022351.js HTTP/1.1" 200 -
2024-11-19 13:42:14,273 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:14] "GET /_dash-component-suites/dash/dash_table/bundle.v5_2_13m1732022351.js HTTP/1.1" 200 -
2024-11-19 13:42:14,276 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:14] "GET /_dash-component-suites/dash/html/dash_html_components.v2_0_20m1732022351.min.js HTTP/1.1" 200 -
2024-11-19 13:42:14,278 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:14] "GET /_dash-component-suites/dash/dcc/dash_core_components.v2_14_3m1732022351.js HTTP/1.1" 200 -
2024-11-19 13:42:14,489 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:14] "GET /_dash-layout HTTP/1.1" 200 -
2024-11-19 13:42:14,491 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:14] "GET /_dash-dependencies HTTP/1.1" 200 -
2024-11-19 13:42:14,501 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:14] "GET /_favicon.ico?v=2.18.2 HTTP/1.1" 200 -
2024-11-19 13:42:14,543 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:14] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 13:42:16,296 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:16] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 13:42:16,324 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:16] "GET /_dash-component-suites/dash/dcc/async-dropdown.js HTTP/1.1" 200 -
2024-11-19 13:42:16,330 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:16] "GET /_dash-component-suites/dash/dcc/async-graph.js HTTP/1.1" 200 -
2024-11-19 13:42:16,370 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:16] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 13:42:16,373 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:16] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 13:42:16,378 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:16] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 13:42:16,381 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:16] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 13:42:16,392 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:16] "GET /_dash-component-suites/plotly/package_data/plotly.min.js HTTP/1.1" 200 -
2024-11-19 13:42:16,592 - INFO - New pipeline : [{'$match': {'pub_date': {'$gte': '2022-01-01T00:00:00', '$lte': '2024-01-31T00:00:00'}}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$pub_date', 'format': '%Y-%m-%dT%H:%M:%S%z'}}}}, {'$unwind': '$keywords'}, {'$project': {'_id': 0, 'name': '$keywords.name', 'value': '$keywords.value', 'rank': '$keywords.rank', 'year': {'$year': '$real_date'}, 'month': {'$month': '$real_date'}}}, {'$set': {'rank': {'$cond': {'if': {'$gt': ['$rank', 20]}, 'then': 20, 'else': '$rank'}}}}, {'$group': {'_id': {'name': '$name', 'value': '$value', 'rank': '$rank', 'year': '$year', 'month': '$month'}, 'count': {'$sum': 1}}}, {'$sort': {'count': -1}}]
2024-11-19 13:42:32,646 - INFO - 172.18.0.1 - - [19/Nov/2024 13:42:32] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 16:14:34,645 - INFO - Connected to mongoDB server (mongodb://admin:serendipity@nyt_mongodb_svc:27017)
2024-11-19 16:14:34,666 - INFO - New pipeline : [{'$project': {'published_date': '$published_date'}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$published_date', 'format': '%Y-%m-%d'}}}}, {'$set': {'year': {'$year': '$real_date'}}}, {'$group': {'_id': 0, 'year_min': {'$min': '$year'}, 'year_max': {'$max': '$year'}}}]
2024-11-19 16:14:41,992 - INFO - New pipeline : [{'$project': {'_id': 0, 'list_id': '$list_id', 'list_name': '$list_name', 'list_encoded': '$list_name_encoded', 'list_display': '$display_name'}}, {'$group': {'_id': {'list_id': '$list_id', 'list_name': '$list_name', 'list_encoded': '$list_encoded', 'list_display': '$list_display'}, 'count': {'$sum': 1}}}, {'$sort': {'count': -1, '_id.list_name': 1}}]
2024-11-19 16:14:42,185 - INFO - New pipeline : [{'$project': {'pub_date': '$pub_date'}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$pub_date', 'format': '%Y-%m-%dT%H:%M:%S%z'}}}}, {'$set': {'year': {'$year': '$real_date'}}}, {'$group': {'_id': 0, 'year_min': {'$min': '$year'}, 'year_max': {'$max': '$year'}}}]
2024-11-19 16:14:53,682 - INFO - Dash is running on http://0.0.0.0:8050/

2024-11-19 16:14:53,788 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8050
 * Running on http://172.18.0.5:8050
2024-11-19 16:14:53,788 - INFO - [33mPress CTRL+C to quit[0m
2024-11-19 16:15:12,016 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:12] "GET / HTTP/1.1" 200 -
2024-11-19 16:15:12,086 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:12] "GET /_dash-component-suites/dash/deps/polyfill@7.v2_18_2m1732022351.12.1.min.js HTTP/1.1" 200 -
2024-11-19 16:15:12,091 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:12] "GET /_dash-component-suites/dash/deps/react-dom@16.v2_18_2m1732022351.14.0.min.js HTTP/1.1" 200 -
2024-11-19 16:15:12,105 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:12] "GET /_dash-component-suites/dash/dash-renderer/build/dash_renderer.v2_18_2m1732022351.min.js HTTP/1.1" 200 -
2024-11-19 16:15:12,105 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:12] "GET /_dash-component-suites/dash_bootstrap_components/_components/dash_bootstrap_components.v1_6_0m1732022352.min.js HTTP/1.1" 200 -
2024-11-19 16:15:12,110 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:12] "GET /_dash-component-suites/dash/deps/react@16.v2_18_2m1732022351.14.0.min.js HTTP/1.1" 200 -
2024-11-19 16:15:12,111 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:12] "GET /_dash-component-suites/dash/deps/prop-types@15.v2_18_2m1732022351.8.1.min.js HTTP/1.1" 200 -
2024-11-19 16:15:12,125 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:12] "GET /_dash-component-suites/dash/dcc/dash_core_components-shared.v2_14_3m1732022351.js HTTP/1.1" 200 -
2024-11-19 16:15:12,138 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:12] "GET /_dash-component-suites/dash/dcc/dash_core_components.v2_14_3m1732022351.js HTTP/1.1" 200 -
2024-11-19 16:15:12,215 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:12] "GET /_dash-component-suites/dash/html/dash_html_components.v2_0_20m1732022351.min.js HTTP/1.1" 200 -
2024-11-19 16:15:12,223 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:12] "GET /_dash-component-suites/dash/dash_table/bundle.v5_2_13m1732022351.js HTTP/1.1" 200 -
2024-11-19 16:15:12,394 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:12] "GET /_dash-layout HTTP/1.1" 200 -
2024-11-19 16:15:12,396 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:12] "GET /_dash-dependencies HTTP/1.1" 200 -
2024-11-19 16:15:12,411 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:12] "GET /_favicon.ico?v=2.18.2 HTTP/1.1" 200 -
2024-11-19 16:15:12,462 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:12] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 16:15:14,069 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:14] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 16:15:14,111 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:14] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 16:15:14,114 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:14] "GET /_dash-component-suites/dash/dcc/async-graph.js HTTP/1.1" 200 -
2024-11-19 16:15:14,116 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:14] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 16:15:14,119 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:14] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 16:15:14,122 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:14] "GET /_dash-component-suites/dash/dcc/async-dropdown.js HTTP/1.1" 200 -
2024-11-19 16:15:14,124 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:14] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 16:15:14,230 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:14] "GET /_dash-component-suites/plotly/package_data/plotly.min.js HTTP/1.1" 200 -
2024-11-19 16:15:14,390 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:14] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 16:15:37,499 - INFO - _obj_id = 'arch_query_radio'
2024-11-19 16:15:37,502 - INFO - New pipeline : [{'$match': {'pub_date': {'$gte': '2021-01-01T00:00:00', '$lte': '2024-01-31T00:00:00'}}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$pub_date', 'format': '%Y-%m-%dT%H:%M:%S%z'}}}}, {'$unwind': '$keywords'}, {'$project': {'_id': 0, 'name': '$keywords.name', 'value': '$keywords.value', 'rank': '$keywords.rank', 'year': {'$year': '$real_date'}, 'month': {'$month': '$real_date'}}}, {'$set': {'rank': {'$cond': {'if': {'$gt': ['$rank', 20]}, 'then': 20, 'else': '$rank'}}}}, {'$group': {'_id': {'name': '$name', 'value': '$value', 'rank': '$rank', 'year': '$year', 'month': '$month'}, 'count': {'$sum': 1}}}, {'$sort': {'count': -1}}]
2024-11-19 16:15:38,107 - INFO - _obj_id = 'arch_query_radio'
2024-11-19 16:15:38,109 - INFO - New pipeline : [{'$match': {'pub_date': {'$gte': '2021-01-01T00:00:00', '$lte': '2024-01-31T00:00:00'}}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$pub_date', 'format': '%Y-%m-%dT%H:%M:%S%z'}}}}, {'$unwind': '$keywords'}, {'$project': {'_id': 0, 'name': '$keywords.name', 'value': '$keywords.value', 'rank': '$keywords.rank', 'year': {'$year': '$real_date'}, 'month': {'$month': '$real_date'}}}, {'$set': {'rank': {'$cond': {'if': {'$gt': ['$rank', 20]}, 'then': 20, 'else': '$rank'}}}}, {'$group': {'_id': {'name': '$name', 'value': '$value', 'rank': '$rank', 'year': '$year', 'month': '$month'}, 'count': {'$sum': 1}}}, {'$sort': {'count': -1}}]
2024-11-19 16:15:41,954 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:41] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 16:15:41,970 - INFO - _obj_id = 'arch_from_year'
2024-11-19 16:15:41,974 - INFO - New pipeline : [{'$match': {'pub_date': {'$gte': '2024-01-01T00:00:00', '$lte': '2024-01-31T00:00:00'}}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$pub_date', 'format': '%Y-%m-%dT%H:%M:%S%z'}}}}, {'$unwind': '$keywords'}, {'$project': {'_id': 0, 'name': '$keywords.name', 'value': '$keywords.value', 'rank': '$keywords.rank', 'year': {'$year': '$real_date'}, 'month': {'$month': '$real_date'}}}, {'$set': {'rank': {'$cond': {'if': {'$gt': ['$rank', 20]}, 'then': 20, 'else': '$rank'}}}}, {'$group': {'_id': {'name': '$name', 'value': '$value', 'rank': '$rank', 'year': '$year', 'month': '$month'}, 'count': {'$sum': 1}}}, {'$sort': {'count': -1}}]
2024-11-19 16:15:43,209 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:43] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 16:15:43,225 - INFO - _obj_id = 'arch_from_year'
2024-11-19 16:15:43,229 - INFO - New pipeline : [{'$match': {'pub_date': {'$gte': '2022-01-01T00:00:00', '$lte': '2024-01-31T00:00:00'}}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$pub_date', 'format': '%Y-%m-%dT%H:%M:%S%z'}}}}, {'$unwind': '$keywords'}, {'$project': {'_id': 0, 'name': '$keywords.name', 'value': '$keywords.value', 'rank': '$keywords.rank', 'year': {'$year': '$real_date'}, 'month': {'$month': '$real_date'}}}, {'$set': {'rank': {'$cond': {'if': {'$gt': ['$rank', 20]}, 'then': 20, 'else': '$rank'}}}}, {'$group': {'_id': {'name': '$name', 'value': '$value', 'rank': '$rank', 'year': '$year', 'month': '$month'}, 'count': {'$sum': 1}}}, {'$sort': {'count': -1}}]
2024-11-19 16:15:46,077 - INFO - 172.18.0.1 - - [19/Nov/2024 16:15:46] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 16:15:46,315 - INFO - _obj_id = 'arch_from_year'
2024-11-19 16:15:46,359 - INFO - New pipeline : [{'$match': {'pub_date': {'$gte': '2023-01-01T00:00:00', '$lte': '2024-01-31T00:00:00'}}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$pub_date', 'format': '%Y-%m-%dT%H:%M:%S%z'}}}}, {'$unwind': '$keywords'}, {'$project': {'_id': 0, 'name': '$keywords.name', 'value': '$keywords.value', 'rank': '$keywords.rank', 'year': {'$year': '$real_date'}, 'month': {'$month': '$real_date'}}}, {'$set': {'rank': {'$cond': {'if': {'$gt': ['$rank', 20]}, 'then': 20, 'else': '$rank'}}}}, {'$group': {'_id': {'name': '$name', 'value': '$value', 'rank': '$rank', 'year': '$year', 'month': '$month'}, 'count': {'$sum': 1}}}, {'$sort': {'count': -1}}]
2024-11-19 16:16:12,747 - INFO - 172.18.0.1 - - [19/Nov/2024 16:16:12] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 16:16:12,980 - INFO - _obj_id = 'arch_to_month'
2024-11-19 16:16:13,291 - INFO - New pipeline : [{'$match': {'pub_date': {'$gte': '2023-01-01T00:00:00', '$lte': '2024-03-31T00:00:00'}}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$pub_date', 'format': '%Y-%m-%dT%H:%M:%S%z'}}}}, {'$unwind': '$keywords'}, {'$project': {'_id': 0, 'name': '$keywords.name', 'value': '$keywords.value', 'rank': '$keywords.rank', 'year': {'$year': '$real_date'}, 'month': {'$month': '$real_date'}}}, {'$set': {'rank': {'$cond': {'if': {'$gt': ['$rank', 20]}, 'then': 20, 'else': '$rank'}}}}, {'$group': {'_id': {'name': '$name', 'value': '$value', 'rank': '$rank', 'year': '$year', 'month': '$month'}, 'count': {'$sum': 1}}}, {'$sort': {'count': -1}}]
2024-11-19 16:18:05,126 - INFO - 172.18.0.1 - - [19/Nov/2024 16:18:05] "GET / HTTP/1.1" 200 -
2024-11-19 16:18:10,125 - INFO - 172.18.0.1 - - [19/Nov/2024 16:18:10] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 16:18:10,284 - INFO - 172.18.0.1 - - [19/Nov/2024 16:18:10] "GET /_dash-layout HTTP/1.1" 200 -
2024-11-19 16:18:10,286 - INFO - 172.18.0.1 - - [19/Nov/2024 16:18:10] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 16:18:10,288 - INFO - 172.18.0.1 - - [19/Nov/2024 16:18:10] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 16:18:10,385 - INFO - 172.18.0.1 - - [19/Nov/2024 16:18:10] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 16:18:10,387 - INFO - 172.18.0.1 - - [19/Nov/2024 16:18:10] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 16:18:10,388 - INFO - 172.18.0.1 - - [19/Nov/2024 16:18:10] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 16:18:10,390 - INFO - 172.18.0.1 - - [19/Nov/2024 16:18:10] "GET /_dash-dependencies HTTP/1.1" 200 -
2024-11-19 16:18:10,429 - INFO - 172.18.0.1 - - [19/Nov/2024 16:18:10] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 16:18:12,054 - INFO - 172.18.0.1 - - [19/Nov/2024 16:18:12] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 16:18:12,080 - INFO - 172.18.0.1 - - [19/Nov/2024 16:18:12] "[36mGET /_dash-component-suites/dash/dcc/async-dropdown.js HTTP/1.1[0m" 304 -
2024-11-19 16:18:12,084 - INFO - 172.18.0.1 - - [19/Nov/2024 16:18:12] "[36mGET /_dash-component-suites/dash/dcc/async-graph.js HTTP/1.1[0m" 304 -
2024-11-19 16:18:12,094 - INFO - 172.18.0.1 - - [19/Nov/2024 16:18:12] "GET /_dash-component-suites/plotly/package_data/plotly.min.js HTTP/1.1" 200 -
2024-11-19 16:18:12,123 - INFO - 172.18.0.1 - - [19/Nov/2024 16:18:12] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 16:18:12,133 - INFO - 172.18.0.1 - - [19/Nov/2024 16:18:12] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 16:18:12,135 - INFO - 172.18.0.1 - - [19/Nov/2024 16:18:12] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 16:18:12,137 - INFO - 172.18.0.1 - - [19/Nov/2024 16:18:12] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
2024-11-19 16:18:12,360 - INFO - 172.18.0.1 - - [19/Nov/2024 16:18:12] "POST /_dash-update-component HTTP/1.1" 200 -
2024-11-19 16:24:27,102 - INFO - _obj_id = 'arch_query_radio'
2024-11-19 16:24:27,105 - INFO - New pipeline : [{'$match': {'pub_date': {'$gte': '2023-01-01T00:00:00', '$lte': '2024-03-31T00:00:00'}}}, {'$set': {'real_date': {'$dateFromString': {'dateString': '$pub_date', 'format': '%Y-%m-%dT%H:%M:%S%z'}}}}, {'$unwind': '$keywords'}, {'$project': {'_id': 0, 'name': '$keywords.name', 'value': '$keywords.value', 'rank': '$keywords.rank', 'year': {'$year': '$real_date'}, 'month': {'$month': '$real_date'}}}, {'$set': {'rank': {'$cond': {'if': {'$gt': ['$rank', 20]}, 'then': 20, 'else': '$rank'}}}}, {'$group': {'_id': {'name': '$name', 'value': '$value', 'rank': '$rank', 'year': '$year', 'month': '$month'}, 'count': {'$sum': 1}}}, {'$sort': {'count': -1}}]
2024-11-19 16:24:36,742 - INFO - 172.18.0.1 - - [19/Nov/2024 16:24:36] "POST /_dash-update-component HTTP/1.1" 200 -
